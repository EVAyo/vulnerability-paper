<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/OsmbF6AptNEAPSEUNVvq8A)<table><tbody><tr><td width="557" valign="top" height="62"><section><strong>声明：</strong>该公众号大部分文章来自作者日常学习笔记，也有部分文章是经过作者授权和其他公众号白名单转载，未经授权，严禁转载，如需转载，联系开白。</section><section>请勿利用文章内的相关技术从事非法测试，如因此产生的一切不良后果与文章作者和本公众号无关。</section></td></tr></tbody></table>

现在只对常读和星标的公众号才展示大图推送，建议大家把潇湘信安 “设为星标”，否则可能看不到了！

**工具介绍**

laoyue 是一款自动化 SRC 监控赏金猎人项目，专为安全研究人员和赏金猎人设计，提供多种工具集成和自动化功能，加快漏洞发现和报告流程。可以帮助我们定期收获资产，定期收集资产，敏感信息和漏洞信息等进行推送（现在可以稳定收菜，有问题 issues 我）。

**工具参数**

**注：**删除了之前的主域名收集接口，请自行收集要跑的 SRC 主域名

```
 -h, --help  :  显示帮助信息
 -d, --domain:  指定单个域名或包含多个域名的文件（如：src.txt）。
 -m, --ml    :  使用ffuf扫描目录。可在./inifile/dict目录下添加字典。
 -n, --nl    :  使用nuclei进行漏洞扫描。
 -f, --fs    :  使用fscan进行漏洞扫描。
 -a, --av    :  使用awvs进行漏洞扫描。
 -z, --hostz :  进行host碰撞。
 -N, --notauto: 启用被动扫描模式，手动收集URL资产后使用(资产放在./result/notautolist/notautolist.txt里)。

```

**快速开始**

**1.** 使用 git 拉取项目到 vps（centos7/ubutu20）服务器，python3 以上即可，java 需要 1.8 环境

```
git clone https://github.com/Soufaker/laoyue.git

```

**2.** 在 config.ini 中填入自己的各种 key，包括某查的 cookie，某 fa 的 key，某图的 key，钉钉的 key（可以搞多个账号白嫖每天的 500 积分）  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/79gZQNibQ6uf4wFxVibBqUvaQDqLaCytnsTW41ic7SaRpSQVoIMVPDY4BTzqBZ5kyODR6TL8LcBBr5dPZPoJ6Wrew/640?wx_fmt=png&from=appmsg)

**3.** 注意你自己使用的 python3 表示方式，有的师傅服务器 python3 用的是 pyhon 或者 python3.x 啥标识，自行更改 build.sh 中和 laoyue.py 中的 python 表示方式，默认为 python3

**4.** 使用 chmod 777 biuld.sh 加权限安装所需依赖，根据系统环境安装，如果是 centos 安装 build_centos7.sh 得，如果是 ubutu，就按照 build_ubutu.sh

```
./build_centos7.sh or ./build_ubutu.sh

```

**5.** 常用命令如下：  

```
常用自动化监控命令(可以先不加nohup手动测试一下看看能跑通不,能跑通就用下面的命令,可以自行增加删除参数,下面的是都跑一遍):
单域名扫描: nohup python3 laoyue.py -d example.com  -m -f -n -z -a  > laoyue.out 2>&1 &
多域名扫描: nohup python3 laoyue.py -d "SRC.txt"  -m -f -n -z -a  > laoyue.out 2>&1 &
被动扫描: nohup python3 laoyue.py -m -n -f -z -a -N &

```

**6.** 新增自动化定时检测是否卡死的功能代码，请在执行上述自动化指令后手动执行该代码 (运行该命令之前，请先运行 build.sh 文件或者手动在 shell 执行命令：sed -i "s/\r//" check_nohup_size.sh，定时检查 nohup.out 是否变化防止卡死导致自动化停止)

```
nohup ./check_nohup_size.sh >check_size.out 2>&1 &

```

**效果展示**

**1.** 新增暴露面资产如图

![](https://mmbiz.qpic.cn/sz_mmbiz_png/79gZQNibQ6uf4wFxVibBqUvaQDqLaCytns2fFxU7CKy5VGvvA2N2m8FZS3TicI0K3YAcibBhZkwqfFNFVHtPMiciaCgA/640?wx_fmt=png&from=appmsg)

**2.** 敏感信息如图

![](https://mmbiz.qpic.cn/sz_mmbiz_png/79gZQNibQ6uf4wFxVibBqUvaQDqLaCytnsT54q3vicELfcXDF3XPsBYj7NguD88aen3xaPibWuD28akb1pyDpxDFaA/640?wx_fmt=png&from=appmsg)

**3.** 漏洞信息（awvs/fscan/nuclei）

![](https://mmbiz.qpic.cn/sz_mmbiz_png/79gZQNibQ6uf4wFxVibBqUvaQDqLaCytnsXWyZgsccZvXrG4QFMppdyDhNPib1oYbdibHuyHzboUEBYOrBIYHkP3EA/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/sz_mmbiz_png/79gZQNibQ6uf4wFxVibBqUvaQDqLaCytnsMHUDnwgmtqo2GqiaM2K531ricLsC85Xqryg7ibmF25EBzXPSMmSL17qzg/640?wx_fmt=png&from=appmsg)

**4.** 服务器目录下生成文件信息，一个总的 excel（./result/baolumian）

![](https://mmbiz.qpic.cn/sz_mmbiz_png/79gZQNibQ6uf4wFxVibBqUvaQDqLaCytnsltIIACPToYyAPdeoJLc1IMibAnBZvHHjF0g6kTcCPodGTNMbrzUpzZw/640?wx_fmt=png&from=appmsg)

![](https://mmbiz.qpic.cn/sz_mmbiz_png/79gZQNibQ6uf4wFxVibBqUvaQDqLaCytnsNoUy8J1eWgpXpYpenfo1QbStb5VAbCLVSVJFBzeBIlf1dcR0jZvXoA/640?wx_fmt=png&from=appmsg)

**下载地址**

**点击下方名片进入公众号**

**回复关键字【****240219****】获取****下载链接**

**知 识 星 球**

  

  

不做过多吹嘘和夸大宣传，至于分享的内容值不值，大家最好自己去看下，3 天不满意可随时申请退款...。

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/79gZQNibQ6ufDmpcoyC5XibXzJB5W7U9Le20DCcRicTkgicmjHKDdvoXhvaQPuMpibvrt7OCWbRQokMTmHxMZ44WVWw/640?wx_fmt=jpeg&from=appmsg)

**推 荐 阅 读**

  

  

  

[![](https://mmbiz.qpic.cn/mmbiz_png/XOPdGZ2MYOe2nibXhkXA8A79MhARiaW5Q0H2aiaR0OwyR63JAI1pRGAc7FZMgIHb9kicboQziaJkTbnlAgOvkdiaHf5g/640?wx_fmt=png)](http://mp.weixin.qq.com/s?__biz=Mzg4NTUwMzM1Ng==&mid=2247499188&idx=1&sn=9ce15a0e66b2595285e544aaa0c49c24&chksm=cfa559a7f8d2d0b162f00e0c1b02c85219f2668c282b32967b2530f15051b47b21ee2855a783&scene=21#wechat_redirect)

[![](https://mmbiz.qpic.cn/mmbiz_png/XOPdGZ2MYOe2nibXhkXA8A79MhARiaW5Q0ibIORUp7SmHhzy2uyXKsgn7YwfdjIpZDFx0vT7AJDMtqKf9l5WCzIIQ/640?wx_fmt=png)](http://mp.weixin.qq.com/s?__biz=Mzg4NTUwMzM1Ng==&mid=2247496043&idx=1&sn=4daa27ade9915de6021fea1c2a21d7bc&chksm=cfa55578f8d2dc6ef887ce27215f942ec233320fa6878bc1666ce0fecb0e7f6c7f96a3ba4e2b&scene=21#wechat_redirect)

[![](https://mmbiz.qpic.cn/mmbiz_png/XOPdGZ2MYOf8eyzKWPF5pVok5vsp74xolhlyLt6UPab7jQddW6ywSs7ibSeMAiae8TXWjHyej0rmzO5iaZCYicSgxg/640?wx_fmt=png)](http://mp.weixin.qq.com/s?__biz=Mzg4NTUwMzM1Ng==&mid=2247486327&idx=1&sn=71fc57dc96c7e3b1806993ad0a12794a&chksm=cfa6af64f8d1267259efd56edab4ad3cd43331ec53d3e029311bae1da987b2319a3cb9c0970e&scene=21#wechat_redirect)

![](https://mmbiz.qpic.cn/mmbiz_png/XOPdGZ2MYOdAPjIVeN2ZahG9ibP0Y3wlfg6BO1WO7MZfo1JeW7zDWcLSTQ5Ek8zXAia5w1nMnogpbpXP6OxXXOicA/640?wx_fmt=png)