<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/99yZ3VudkydcbKLBwdr6fw)

** 点击上方蓝字 关注我 **

  

做运维的同学肯定都学过 Linux 系统下的 Iptables 或者 Firewalld。因为涉及到对 Linux 内核网络的理解，以及对网络协议和数据包过滤的熟悉，所以对于新手来说学习 Iptables 和 Firewalld 可能存在一定的难度，但是这个又是运维人必须要具备的能力之一。

但是无论 Iptables 和 Firewalld，都无法很好实现对 Linux 应用程序的防火墙管理。比如基于 Linux 的操作系统中，同时安装了 Firefox 和 Chrom 浏览器，但是现在只希望 Firefox 能够访问互联网，Chrom 不允许，Iptables 和 Firewalld 都无法很好的满足，这个时候最简单的方法就是通过应用级别的防火墙进行管控。今天主要给大家介绍的就是一款基于 GNU/Linux 应用程序防火墙 - OpenSnitch

**01** 

**—** 

 OpenSnitch 介绍 

  

**一个受 Little Snitch 启发而开发的 GNU/Linux 应用程序防火墙，提供简单易用的交互式界面来监控和控制应用程序的出站网络连接，帮助用户管理网络访问权限，增强隐私保护和系统安全性。同时它还能够系统范围内阻止广告、追踪器或恶意软件域名。**
==================================================================================================================================

![](https://mmbiz.qpic.cn/mmbiz_png/kgXibFxsv0e1D1LJibicPoQMDV5C29y84I8yMaWlIgfM3l9HpibfdNR8YXydicg1Vn3pTDXJTxNJ3bbd1CcJxQ120PQ/640?wx_fmt=png&from=appmsg)

****🏠  项目信息****

```
#Github地址
https://github.com/evilsocket/opensnitch

```

![](https://mmbiz.qpic.cn/mmbiz_png/kgXibFxsv0e1D1LJibicPoQMDV5C29y84I8s6yibNcCKolkNjddlN7vHFPOokwMybmhQMsic2xwTBkNtOiaZicoF0yxng/640?wx_fmt=png&from=appmsg)

🚀**功能特性**
----------

*   **交互式连接监控：**监控应用程序尝试建立的所有出站网络连接，并请求用户确认是否允许这些连接。
    
*   **应用程序级别的控制：**允许用户对每个应用程序的网络访问进行细粒度控制，用户可以为每个应用程序设置允许或阻止的规则。
    
*   **图形用户界面：**提供一个直观的图形用户界面（GUI），使得管理网络访问规则变得简单易行。
    
*   **实时反馈：**当应用程序尝试进行网络连接时，OpenSnitch 会实时通知用户，并提供选项来允许或阻止连接。
    
*   **黑名单和白名单：**用户可以创建应用程序的黑名单和白名单，以便自动处理已知的可信或不可信应用程序的网络请求。
    
*   **系统防火墙集成：**能够与系统防火墙（如 nftables）集成，将用户的选择转换为防火墙规则。
    
*   **多节点管理：**支持从集中的图形用户界面管理多个节点，适用于需要管理多台计算机的场景。
    
*   **SIEM 集成：**提供与安全信息和事件管理（SIEM）系统的集成，便于日志记录和安全监控。
    
*   **阻止广告和追踪器：**可以帮助用户阻止广告和追踪器，提高隐私保护。
    

**🛠 和 Iptables、Firewalld 的关系**
-------------------------------

需要注意 OpenSnitch 无法取代或者替换 Iptables 或者 Firewalld，其之间更多的为互补关系

<table data-sort="sortDisabled" interlaced="enabled"><tbody><tr><td height="15"><strong>特性</strong></td><td width="130"><strong>OpenSnitch</strong></td><td width="121"><strong>iptables</strong></td><td width="198"><strong>firewalld</strong></td></tr><tr><td height="16"><strong>定位</strong></td><td width="110">应用程序防火墙</td><td width="121">包过滤防火墙</td><td width="178">动态防火墙管理器</td></tr><tr><td height="16"><strong>工作层</strong></td><td width="130">应用层</td><td width="121">网络层（数据包过滤）</td><td width="178">网络层（数据包过滤和防火墙管理）</td></tr><tr><td height="33"><strong>用户界面</strong></td><td width="110">图形用户界面（GUI）</td><td width="121">命令行界面（CLI）</td><td width="178">命令行界面（CLI），也支持图形界面（如 &nbsp;firewall-config）</td></tr><tr><td height="33"><strong>主要功能</strong></td><td width="110">监控和控制应用程序的出站网络连接</td><td width="101">过滤数据包，NAT，端口转发等</td><td width="178">管理防火墙规则，服务和区域配置，动态更新规则</td></tr><tr><td height="16"><strong>配置复杂度</strong></td><td width="110">低（提供直观的 &nbsp;GUI）</td><td width="101">高（需要手动编写复杂的规则）</td><td width="178">中（提供服务和区域的概念简化配置）</td></tr><tr><td height="16"><strong>适用场景</strong></td><td width="110">需要应用程序级别控制的场景</td><td width="101">服务器管理，网络边界防护</td><td width="178">需要快速配置和动态更新的场景</td></tr><tr><td height="16"><strong>互补协同</strong></td><td width="110">可以与 &nbsp;iptables 或 firewalld 协同工作</td><td width="101">作为 &nbsp;Linux 系统中的底层防火墙工具</td><td width="178">可以作为系统防火墙，也可以与 &nbsp;OpenSnitch 协同工作</td></tr></tbody></table>

**02**

**—**

 OpenSnitch 安装 

*   下载 deb 或者 rpm 包
    

```
#Github release界面下载deb或者rpm包
https://github.com/evilsocket/opensnitch/releases

```

*   安装如下：
    

对于 Debian、Ubuntu 系统（使用 deb 包）：

```
apt-get update
sudo apt install ./opensnitch*.deb ./python3-opensnitch-ui*.deb

```

对于 Red Hat 系统（使用 rpm 包）：

```
sudo yum localinstall opensnitch-1*.rpm; sudo yum localinstall opensnitch-ui*.rpm

```

安装完成后，可以通过运行 opensnitch-ui 命令或从应用程序菜单启动 GUI 界面：

![图片](https://mmbiz.qpic.cn/mmbiz_png/kgXibFxsv0e1D1LJibicPoQMDV5C29y84I8ibXdFOeLOHt9Nlfib7ibQ3XdtPZtYIQibibL6BAAoEzcg3c8ChVTtShUbWw/640?wx_fmt=png&from=appmsg)

  

**03**

**—**

 OpenSnitch 使用 

  

*   默认防火墙规则是 deny 规则，比如通过 Firefox 默认是不允许联网：
    

![图片](https://mmbiz.qpic.cn/mmbiz_png/kgXibFxsv0e1D1LJibicPoQMDV5C29y84I87oBkj4H6UguNcJybdYhol7UmbC8j1omgMerbBjtcK8nXIS6NVoiaplQ/640?wx_fmt=png&from=appmsg)

*   快速添加一条规则，允许 Firefox 联网，在【Events】页面找到触发阻断的事件，右键添加规则：
    

![图片](https://mmbiz.qpic.cn/mmbiz_png/kgXibFxsv0e1D1LJibicPoQMDV5C29y84I8jBPbrzjYWo0V8k8EJGmKbncQaric0WyqENUiaGp17et4Pia4Xt0Gdw89Q/640?wx_fmt=png&from=appmsg)

*   在添加界面勾选【Allow】选项和【From this executable】
    

![图片](https://mmbiz.qpic.cn/mmbiz_png/kgXibFxsv0e1D1LJibicPoQMDV5C29y84I8MNNwx8ePhyyWg8PkOFHic4sAKo6IscVibaXdibEd671RicNPocxib0hBbAg/640?wx_fmt=png&from=appmsg)

*   右上角启停下 OpenSnitch 服务，验证 Firefox 可以联网：
    

![图片](https://mmbiz.qpic.cn/mmbiz_png/kgXibFxsv0e1D1LJibicPoQMDV5C29y84I8PPthLhgKXWCy09yrbSIDlz9MLFDTHiaYl8EWuzoaBQKhgliaxiaVK4BZg/640?wx_fmt=png&from=appmsg)

**04**

**—**

 最后 

上述只是 OpenSnitch 的一个简单使用的示例。总的来说 OpenSnitch 可以作为 Linux 系统安全防护中的一个应用防护工具，与 iptables 或 firewalld 一起使用，以提供更全面的网络安全解决方案，补充应用程序级别的监控和控制，增强了系统的整体安全性。

* * *

**往期文章推荐：**

*   [一个条命令就能搜索 400 + 网站上同名账户，打造独你一无二的网名！Star 58K+!](http://mp.weixin.qq.com/s?__biz=MzkzMTY1NTAzMA==&mid=2247488499&idx=1&sn=5b125354f4f288a0b98e429bb6dcff20&chksm=c266efeaf51166fc669d0e3a23d0e4073ba5f3ac60d99426c046477bea280d19cd26770b12d2&scene=21#wechat_redirect)  
    
*   [一个浏览器指纹识别库，强的有点让人害怕！Star 21K+！](http://mp.weixin.qq.com/s?__biz=MzkzMTY1NTAzMA==&mid=2247488379&idx=1&sn=eb83eb31e75dc079fda511c7808aaf74&chksm=c266ef62f5116674a91c31cf2c2a842e557a56b890159fdc6c2081068ab2390a620d879d4e03&scene=21#wechat_redirect)
    
*   [一款现代化的 CRM 系统，Salesforce 的开源选择，Star 15.5K！](http://mp.weixin.qq.com/s?__biz=MzkzMTY1NTAzMA==&mid=2247488237&idx=1&sn=1dbaba72dd587384895d7a9004370fba&chksm=c266eef4f51167e25683488c9d184b7deafeebc04a56f8240caca4704b5367b332cad0af6021&scene=21#wechat_redirect)
    
*   [一个功能强大，但简单易用的 DevOps 平台，支持 Git、CI/CD、看板、包管理等，GitLab 的替代选择，Star 13K+!](http://mp.weixin.qq.com/s?__biz=MzkzMTY1NTAzMA==&mid=2247488155&idx=1&sn=6c47fd4f61d44aa3c099e86031c24806&chksm=c266ee82f5116794c16a28d9cfb8ca75f7270c4437dd8e1ff5e399f56e81a7fb4c0a5e52847d&scene=21#wechat_redirect)
    
*   [一个手把手搭建可嵌入 OA 系统的 IT 百事通小助手教程，让非 IT 人员都刮目相看！（含详细部署和提示词说明）](http://mp.weixin.qq.com/s?__biz=MzkzMTY1NTAzMA==&mid=2247488085&idx=1&sn=e655c4df961808adbaa84d347c5f4ecf&chksm=c266ee4cf511675af439ab5b76c4f717609650c7d054b7a7185ee2f0d721b7f4db4dec8c6dba&scene=21#wechat_redirect)