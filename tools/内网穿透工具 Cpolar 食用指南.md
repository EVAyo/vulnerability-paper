<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/-yD7ymzdlegwcLugnL9FZw)

> 在前面的文章中，我们讲到了如何利用端口端口映射的方式进行内网穿透。最常用的工具有 FRP Zerotier 等工具。但是每种工具都有一定的优点和缺点。如有些有些自己购物公网服务器，有些网络不稳定等等。介于以上因素，本文为大家分享另外一款内网穿透神器`cpolar`

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLcodUVZmb38SWIzxh3ibEkCzXLGicEl984IaAvjUvYCO9NEfLVrib7gTQA/640?wx_fmt=png&from=appmsg)我们首先访问 cpolar 官网 _www.cpolar.com/_ 根据提示进行注册！

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLG7heo6ZnwUKYaR3HStCxelZTZtosrVKibSIwfXEO5dZbRPtXv12GeLQ/640?wx_fmt=png&from=appmsg)

登录完成后，根据提示进行安装和配置。

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLy1I0zKJia5S705MshOQL0DwTV67z1ydDKx5Riczxo8xdnoZGM1V0PCQw/640?wx_fmt=png&from=appmsg)

本文，以 kali 安装为例。

```
curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash
cpolar -h


```

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLhEWoef7iaiagWXGRGj9mntN1qodwRmLx3VZy89LYMBpkydcQz8HeJuQg/640?wx_fmt=png&from=appmsg)

**连接您的帐户**

运行此命令会将您帐户的 authtoken 添加到您的`cpolar.yml`文件中。这将为您提供更多功能，所有打开的隧道将在此处的仪表板中列出。

```
./cpolar authtoken  key


```

**简单测试**

如将本地 kali 的 80 端口进行端口映射，我们分别执行下面命令就行了。

```
service apache2 start
cpolar http 80


```

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLAbhK0oxBp7K32lFMPXD6OuAicXF5t2zbmHn3JBibb12GAvXNtOjRckog/640?wx_fmt=png&from=appmsg)如上，便得到了公网地址。

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLZ33ic6MNyJvwN6NUjpNU4T300uZ9PMQc15wed1MLHFjUaX2PmulrgibQ/640?wx_fmt=png&from=appmsg)同样，如果我们需要映射`22`端口，可以执行命令

```
cpolar tcp 22


```

为了方便，我们可以向系统添加服务

```
sudo systemctl enable cpolar


```

启动 cpolar 服务

```
sudo systemctl start cpolar


```

为了方便，我们可以通过 web 界面进行配置。访问`ip:9200`访问 web 界面。

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLKz1NHou0JMXmgxPmIdrCZReIvRaXNtdX3AQtDKichaNfTzktpU3XQ5w/640?wx_fmt=png&from=appmsg)用上一步中注册的账号进行登录。点击隧道管理，创建和管理隧道。

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLMumkrCSdO4aqGZX043dKjbwrxBjRu30ibia7IQJ0SU1Kb1hjPpLqQIKQ/640?wx_fmt=png&from=appmsg)在状态列表中，可以查看相应的公网地址。如 ssh 连接。

![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLK5bcptXiczq5cVcI8aD1UKeBW4o67ibRdvwjOP8xcp7YWn6G14icAjucQ/640?wx_fmt=png&from=appmsg)![](https://mmbiz.qpic.cn/mmbiz_png/Xb3L3wnAiatjK5zJOESzvaEqMyD27DkicLW62m4PCed5vR05r7GmNonicX21eN20IIfBG6E8v3sx8Dq7FcDNP0TXA/640?wx_fmt=png&from=appmsg)SSH 连接 Kali

**BREAK AWAY**

**往期推荐**

**0****1**

[Frp 最新版使用指南](http://mp.weixin.qq.com/s?__biz=MzkxMzIwNTY1OA==&mid=2247503272&idx=1&sn=9acfb8c97d116c76bbd37541e9346155&chksm=c103bd5df674344be5662807a44a3821bd58ee231749c5de9b44af2f670fe0fc6784b58481b2&scene=21#wechat_redirect)

**0****2**

[无需公网 用 zerotier 异地组网](http://mp.weixin.qq.com/s?__biz=MzkxMzIwNTY1OA==&mid=2247497425&idx=1&sn=9eef5f082f0e00a3b8659899067c4faa&chksm=c1038624f6740f323f28a98ad4b536c8377dd1e8ed065818203b1e10e8feba5fbf7dcabdab6d&scene=21#wechat_redirect)

**0****3**

[无需公网 IP 怎样远程访问内网设备](http://mp.weixin.qq.com/s?__biz=MzkxMzIwNTY1OA==&mid=2247496580&idx=1&sn=f344269c0b1c6b86af18e03fe5ab1291&chksm=c1038371f6740a6748355ea11a63b89aa65491f9ef20bafa208f441d268203994035db2ff318&scene=21#wechat_redirect)

**更多精彩文章 欢迎关注我们**