<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/piPVgFE04ltBKu-w8xX70A)<table><tbody><tr><td width="557" valign="top" height="62"><p><strong>声明：</strong>该公众号分享的安全工具和项目均来源于网络，仅供安全研究与学习之用，如用于其他用途，由使用者承担全部法律及连带责任，与工具作者和本公众号无关。</p></td></tr></tbody></table>

现在只对常读和星标的公众号才展示大图推送，建议大家把 Hack 分享吧 “设为星标”，否则可能看不到了！  

**工具介绍**

CloakQuest3r 是一款功能强大的 Python 工具，经过精心设计，可揭示由 Cloudflare 和其他替代方案（一项广泛采用的 Web 安全和性能增强服务）保护的网站的真实 IP 地址。其核心任务是准确识别隐藏在 Cloudflare 防护罩后面的 Web 服务器的实际 IP 地址。子域扫描被用作实现这一目标的关键技术。

对于寻求执行全面安全评估并识别可能被 Cloudflare 安全措施掩盖的漏洞的渗透测试人员、安全专业人员和 Web 管理员来说，该工具是宝贵的资源。  

**主要特征：**

*   **真实 IP 检测：**CloakQuest3r 擅长发现使用 Cloudflare 服务的 Web 服务器的真实 IP 地址。这一关键信息对于进行全面的渗透测试和确保网络资产的安全至关重要。
    
*   **子域扫描：**子域扫描是查找真实 IP 地址过程中的基本组成部分。它有助于识别负责托管网站及其相关子域的实际服务器。
    
*   **IP 地址历史记录：**检索给定域的历史 IP 地址信息。它使用 ViewDNS 服务来获取和显示 IP 地址、位置、所有者和上次查看日期等详细信息。
    
*   **SSL 证书分析：**提取并分析与目标域关联的 SSL 证书。这可以提供有关托管基础设施的附加信息，并有可能泄露真实的 IP 地址。
    
*   **SecurityTrails API（可选）：** 如果您将免费的 SecurityTrails API 密钥添加到 config.ini 文件中，则可以从 SecurityTrails 检索历史 IP 信息。
    
*   **线程扫描：**为了提高效率并加快真实 IP 检测过程，CloakQuest3r 使用线程。此功能可以扫描大量子域列表，而无需显着延长执行时间。
    
*   **详细报告：**该工具提供全面的输出，包括扫描的子域总数、找到的子域总数以及扫描所需的时间。在此过程中公开的任何真实 IP 地址也会被显示，以便于深入分析和渗透测试。
    

借助 CloakQuest3r，您可以自信地评估网站安全性、发现隐藏的漏洞，并通过公开隐藏在 Cloudflare 保护层后面的真实 IP 地址来保护您的 Web 资产。

![](https://mmbiz.qpic.cn/sz_mmbiz_png/79gZQNibQ6ucnCibWzFJs19mFzFNw7Tr9L0lF9fW1vyauP7pEW1nCicqY5iaujPVeTkAuJicaaGwVQnqygV9QhEt2oA/640?wx_fmt=png&from=appmsg)

**工具使用**

1. 使用单个命令行参数运行 CloudScan：您要分析的目标域。  

```
git clone https://github.com/spyboy-productions/CloakQuest3r.git
cd CloakQuest3r
pip3 install -r requirements.txt
python cloakquest3r.py example.com

```

For Termux(android) Usercryptography 如果使用 requirements.txt 安装时遇到问题，请使用下面给出的命令

```
pkg install python-cryptography

```

2. 该工具将检查网站是否使用 Cloudflare。如果没有，它会通知您并询问您是否仍要继续。  

3. 如果检测到 Cloudflare，它会首先打印历史 IP 记录，然后扫描子域并识别其真实 IP 地址。  

4. 您将收到详细的输出，包括扫描的子域数量、找到的子域总数以及扫描所需的时间。  

5. 任何找到的真实 IP 地址都会显示出来，以便您进行进一步的分析和渗透测试。  

**可选：****SecurityTrails API**

```
https://securitytrails.com/

```

从 SecurityTrails 检索历史 IP 信息。如果您有 API 密钥，请将其添加到配置文件 (config.ini) 中。  

初次执行脚本时，它会生成一个包含以下内容的 config.ini 文件：

```
[DEFAULT]
securitytrails_api_key = your_api_key

```

随后，该脚本尝试从 SecurityTrails API 检索数据。如果由于配额限制或站点不可用等原因导致检索失败，则会优雅地跳过相应的功能。  

**注意事项**

1.  **漏报：**CloakReveal3r 可能无法始终准确识别 Cloudflare 背后的真实 IP 地址，特别是对于网络配置复杂或安全措施严格的网站。  
    
2.  **动态环境：**网站的基础设施和配置可能会随着时间而变化。该工具可能无法捕获这些更改，从而可能导致信息过时。  
    
3.  **子域名变化：**虽然该工具扫描子域名，但它不能保证所有子域名的 A 记录都指向主主机。某些子域也可能受 Cloudflare 保护。  
    

**下载地址**

**点击下方名片进入公众号**

**回复关键字【****240131****】获取******下载链接****

**信 安 考 证**

  

  

需要考以下各类安全证书的可以联系我，价格优惠、组团更便宜，还送【潇湘信安】知识星球 **1** 年！

<table><tbody><tr><td width="557" valign="top"><p>CISP、PTE、PTS、DSG、IRE、IRS、NISP、PMP、CCSK、CISSP、ISO27001...</p></td></tr></tbody></table>

![](https://mmbiz.qpic.cn/mmbiz_jpg/XOPdGZ2MYOeH17P4KeKnWkbLrWiaWOb0F1PCq8qME7Y67R45o7kW1iabxmbbd4yldq5cA3HsQZo2Q6lB3rYUVSUA/640?wx_fmt=jpeg)

往期推荐工具

[渗透测试常用的数据库综合利用工具](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247484579&idx=1&sn=2f2054508220223100066edf3064b37b&chksm=9036e21ba7416b0d7afecc97d3338d954023a51a5622939782273f264207363e4ea8ba9d18de&scene=21#wechat_redirect)

[RequestTemplate 红队内网渗透工具](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247484512&idx=1&sn=90d24f2727ba99c870d7112c406bf208&chksm=9036e2d8a7416bce7e190896de3c7cbd428d385d5563717bce46b0c7f51f33ea18d3e0f1af1e&scene=21#wechat_redirect)

[Railgun - 一款 GUI 界面的渗透工具](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247484499&idx=1&sn=edeae57e8306db1bfdcb72e0b0b655d2&chksm=9036e2eba7416bfdbe6a495b60a89d1a677fc745aa512036072224fc1537d8931276e55f7c90&scene=21#wechat_redirect)

[GoBypass - Golang 免杀生成工具](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247484019&idx=1&sn=05133dd5cb31474078eb4ab019f164f3&chksm=9036e4cba7416ddd92c8f9147bb2d283ddedcdfb4d46ed5987d192863008be9bc655025e0697&scene=21#wechat_redirect)

[ByPassBehinder 冰蝎 WebShell 免杀工具](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247484096&idx=1&sn=487a1f9daf0090071913aeceeb266d53&chksm=9036e478a7416d6ebced132fe4a03bb1d2584d7fb3eb433612151648743322ff900ae849d572&scene=21#wechat_redirect)

[SweetBabyScan 内网资产探测漏扫工具](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247484070&idx=1&sn=eb4cd4f6aac6e0a0ef26a75e4bc2bc7a&chksm=9036e41ea7416d088f70e8593099f750c81b079de1b4b14219276b352a2e83a3eb1d5829c94b&scene=21#wechat_redirect)

[掩日 - 适用于红队的综合免杀工具](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247483997&idx=1&sn=1a87fc6bfec2a48dd3dfa5bc2852e8e8&chksm=9036e4e5a7416df3ff7f5b4cf55b4c8c57cde271128de0b9fcdf381a19afb207223deb88fb61&scene=21#wechat_redirect)

[AuxTools 浮鱼渗透辅助工具箱 V1](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247483907&idx=1&sn=4e7cf5de0472f6685edb64a598e6aff8&chksm=9036e4bba7416dad5aa253462a84d0c47fdb4e89914c70bd5a3fbbd8b4ef05572a4e7e702faa&scene=21#wechat_redirect).0

[POCbomber 红队快速打点漏洞检测工具](http://mp.weixin.qq.com/s?__biz=MzA4NzU1Mjk4Mw==&mid=2247483790&idx=1&sn=35e3a0fa64cff8d72313fa41ddcbfc3c&chksm=9036e736a7416e20dcd23cfede5c887bfecf5e489234eeb67040bcbbc6326cb42373d226a186&scene=21#wechat_redirect)