<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/-m-SS_RPpOBfxFMmt43UrQ)

免责声明

由于传播、利用本公众号夜组安全所提供的信息而造成的任何直接或者间接的后果及损失，均由使用者本人负责，公众号夜组安全及作者不为此承担任何责任，一旦造成后果请自行承担！如有侵权烦请告知，我们会立即删除并致歉。谢谢！

朋友们现在只对常读和星标的公众号才展示大图推送，建议大家把**夜组安全** “**设为星标**”，否则可能就看不到了啦！

![图片](https://mmbiz.qpic.cn/sz_mmbiz_gif/2AqAgxkehicibhdXDeRwI1L5DC694At2gRAQvUOyPLLNqR8icO1yibl8MAKMN5Vtiawxibch7gQfH1aSia7F6z55Nibu3A/640?wx_fmt=gif)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_gif/2AqAgxkehicibhdXDeRwI1L5DC694At2gRAQvUOyPLLNqR8icO1yibl8MAKMN5Vtiawxibch7gQfH1aSia7F6z55Nibu3A/640?wx_fmt=gif)

**安全工具**

![图片](https://mmbiz.qpic.cn/sz_mmbiz_gif/2AqAgxkehicibhdXDeRwI1L5DC694At2gRAQvUOyPLLNqR8icO1yibl8MAKMN5Vtiawxibch7gQfH1aSia7F6z55Nibu3A/640?wx_fmt=gif)

![图片](https://mmbiz.qpic.cn/sz_mmbiz_gif/2AqAgxkehicibhdXDeRwI1L5DC694At2gRAQvUOyPLLNqR8icO1yibl8MAKMN5Vtiawxibch7gQfH1aSia7F6z55Nibu3A/640?wx_fmt=gif)

**01**

**工具介绍**

一款国外人员编写的用于在渗透中检测网站是否部署 CDN/WAF / 云的工具。  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/icZ1W9s2Jp2XtIcJW75QT9qBCQWWKicfZaXLakCMPF4Z0l9FqTARwQ3DuCCeXv7oCvuQolHPNu3FicmnmCVdhr0fw/640?wx_fmt=png&from=appmsg)

**02**

**工具功能**

*   CDN、CLOUD 和 WAF 检测
    
*   易于用作库
    
*   易于扩展的提供程序
    
*   IP、DNS 输入支持
    
*   文本、JSONL 输出
    
*   输出滤波器
    

**03**

**工具使用**

```
cdncheck -h
Usage:
  ./cdncheck [flags]
Flags:
INPUT:
   -i, -input string[]  list of ip / dns to process
DETECTION:
   -cdn    display only cdn in cli output
   -cloud  display only cloud in cli output
   -waf    display only waf in cli output
MATCHER:
   -mcdn, -match-cdn string[]      match host with specified cdn provider (cloudfront, fastly, google, leaseweb)
   -mcloud, -match-cloud string[]  match host with specified cloud provider (aws, google, oracle)
   -mwaf, -match-waf string[]      match host with specified waf provider (cloudflare, incapsula, sucuri, akamai)
FILTER:
   -fcdn, -filter-cdn string[]      filter host with specified cdn provider (cloudfront, fastly, google, leaseweb)
   -fcloud, -filter-cloud string[]  filter host with specified cloud provider (aws, google, oracle)
   -fwaf, -filter-waf string[]      filter host with specified waf provider (cloudflare, incapsula, sucuri, akamai)
OUTPUT:
   -resp               display technology name in cli output
   -o, -output string  write output in plain format to file
   -v, -verbose        display verbose output
   -j, -jsonl          write output in json(line) format
   -nc, -no-color      disable colors in cli output
   -version            display version of the project
   -silent             only display results in output
CONFIG:
   -r, -resolver string[]  list of resolvers to use (file or comma separated)
   -e, -exclude            exclude detected ip from output
   -retry int              maximum number of retries for dns resolution (must be at least 1) (default 2)
UPDATE:
   -up, -update                 update cdncheck to latest version
   -duc, -disable-update-check  disable automatic cdncheck update check

```

**04**

**添加新的供应商**

provider.yaml 文件包含 CDN、WAF 和云提供商的列表。该列表包含 URL、ASN 和 CIDR，然后使用程序将其编译成最终文件。`sources_data.json``generate-index`

文件示例 -`provider.yaml`

```
cdn:
  # asn contains the ASN numbers for providers
  asn:
    leaseweb:
      - AS60626
  # urls contains a list of URLs for CDN providers
  urls:
    cloudfront:
      - https://d7uri8nf7uskq.cloudfront.net/tools/list-cloudfront-ips
    fastly:
      - https://api.fastly.com/public-ip-list
  # cidr contains the CIDR ranges for providers
  cidr:
    akamai:
      - "23.235.32.0/20"
      - "43.249.72.0/22"
      - "103.244.50.0/24"
      - "103.245.222.0/23"
      - "103.245.224.0/24"
      - "104.156.80.0/20"

```

可以通过以下简单步骤将可以从 URL、ASN 或静态 CIDR 列表中抓取的新提供程序添加到文件中，如下所示：`provider.yaml`

*   分叉包含该文件的 GitHub 存储库。`cmd/generate-index/provider.yaml`
    
*   将分叉的存储库克隆到本地计算机并导航到该目录。`cmd/generate-index`
    
*   打开文件并找到要添加的提供程序类型（CDN、WAF 或云）的部分。`provider.yaml`
    
*   将新提供程序的信息添加到文件中的相应部分。`provider.yaml`
    
*   使用描述性提交消息提交更改。
    
*   将您的更改推送到 GitHub 上的分叉存储库。
    
*   打开包含更改的原始存储库的拉取请求。
    

**05**

**工具下载**

**点击关注下方名片****进入公众号**

**回复关键字【231212****】获取****下载链接**

  

**06**

**往期精彩**

[

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/icZ1W9s2Jp2XrFtQEMGxGTIXFt5JQyvI7szFK9nkeO8AIK6XwI6aYZ6WV7UXR5sD5rvia380VK0XmwWEWBO3BdeQ/640?wx_fmt=jpeg)

一款永久提供服务的安全武器库







](http://mp.weixin.qq.com/s?__biz=Mzk0ODM0NDIxNQ==&mid=2247489206&idx=1&sn=c6ddb4b7288406de6d8b5b26416b54e5&chksm=c368524ef41fdb581e2054a0467eac86317da19dba17cdca75c9ec216055ffb7be61173a5aee&scene=21#wechat_redirect)

[

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/icZ1W9s2Jp2XsU1nONX6eictydjHQEejGpaoYQrVXRKAgncy3PeibybD5u5lISwf8cTsZGgmDRbDf6lMFHOLPxsvg/640?wx_fmt=jpeg)

利用 oss 实现 http 转发 / cobalt strike 上线







](http://mp.weixin.qq.com/s?__biz=Mzk0ODM0NDIxNQ==&mid=2247489209&idx=1&sn=dc68a1c6098463e73d66c4e3f927f0ea&chksm=c3685241f41fdb57072cb4812bd341cd99a3b126a3cdf7e48f20573ed8231813cba3c9ed79bb&scene=21#wechat_redirect)

[

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/icZ1W9s2Jp2WSVDPWeGwkyaJY4Y5fcs75WiahibYfbu91PfQlM9aibGppBh0Rc6oFLBBLJrX5m7ruicr4AvsPPc1jrA/640?wx_fmt=jpeg)

应急响应检测工具







](http://mp.weixin.qq.com/s?__biz=Mzk0ODM0NDIxNQ==&mid=2247489137&idx=1&sn=1fc5a9b464ec967b2e5dcabaacc06cbd&chksm=c3685289f41fdb9f01f2b8bfea09171eeb735c01454eafde698cd6e594d012c559534b58f3f8&scene=21#wechat_redirect)

![](https://mmbiz.qpic.cn/mmbiz_png/OAmMqjhMehrtxRQaYnbrvafmXHe0AwWLr2mdZxcg9wia7gVTfBbpfT6kR2xkjzsZ6bTTu5YCbytuoshPcddfsNg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1&random=0.8399406679299557)