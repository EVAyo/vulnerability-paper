<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/IeKKQDyPSQpx1BVcEIIuGg)

===================================

**免责声明**

请勿利用文章内的相关技术从事非法测试，由于传播、利用此文所提供的信息而造成的任何直接或者间接的后果及损失，均由使用者本人负责，作者不为此承担任何责任。工具来自网络，安全性自测，如有侵权请联系删除。

  

**0x01 工具介绍**

调用微步 api，实现 hvv 期间大批量的 ip 自动化溯源工作。

**0x02 安装与使用**

1. 将 IP 地址放入 url.txt 中，通过调用微步 apikey 进行批量查询

2. 在当前目录下生成 ip_info.csv 结果。

3. 当查询失败时会将失败的 ip 存入当前目录下的 error.txt 文件夹内（大概率是微步 apikey 额度满了，目前是每个 key 每天查询 50 次）

![](https://mmbiz.qpic.cn/sz_mmbiz_png/8H1dCzib3UibvL5DOVfwlElW0KfK8gCWfknBWibcGF2BlY9qU7qHzk2tMM5MuvAABQRSYUBg0HIr1WazItCEzFRKg/640?wx_fmt=png&from=appmsg)

4. 利用 Ashro_excel 进行结果转换。

是对 ip_info.csv 文件内容的处理，目前的筛选条件为：属于恶意 IP、可信度不为低、不是住宅用户、移动基站、白名单、CDN 的对应的 IP 地址会输出到同目录下的 higt.txt 中

5. 利用黑客工具指纹针进行红队服务器搜集

![](https://mmbiz.qpic.cn/sz_mmbiz_png/8H1dCzib3UibvL5DOVfwlElW0KfK8gCWfkYtvoldSOIZ0GwICMdOqlMsGu0px0jgcBCACk3FKWBWlYNY1j4btWLw/640?wx_fmt=png&from=appmsg)

脚本使用：

等全部功能写完 在全部集成到一起

```
1.python Ashro_Auto_Attribution.py -f url.txt
2.python Ashro_excel.py
3.python Ashro_ports.py  -f  high.txt

```

**0x03 项目链接下载**

1、点击阅读原文，从原项目地址下载。

2、网盘下载链接：https://pan.quark.cn/s/983506262fe6

**·** **今 日 推 荐** **·**

欢迎加入 AI 赛道

文案、音乐、图片，一体化 AI 实现

只有你想不到的，没有做不出来的。。。

扫描二维码加入吧

加入即送 AI 相关实体书一本

> ![](https://mmbiz.qpic.cn/sz_mmbiz_png/8H1dCzib3UibvL5DOVfwlElW0KfK8gCWfkWSzkUBjJUARZcQhmibYhiaJV0AzkFYU9Jff6C4iauSsR9w4OyBOoOs7Hw/640?wx_fmt=png&from=appmsg)