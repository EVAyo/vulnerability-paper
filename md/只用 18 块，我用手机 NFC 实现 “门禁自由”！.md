<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/GNm0yO6TCwjnVDKEqc_fag)

点击上方名片**关注我们👆**

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmL85X1eahiaXcG5EROv6nhpb6IWXhic8NNQYoVYv60TNicYL2dIsMOibggA/640?wx_fmt=jpeg&from=appmsg)

现在的小区，已经大幅度的普及了「**智能系统**」。

要么刷脸进入，要么用智能钥匙卡进入。而说到钥匙卡，对于一些人来说简直就是「地狱」。  

毕竟丢三落四的习惯总改不了，一旦把钥匙卡忘在了家里，想回家就成了一条 “艰难的路”。

but，就算是在丢三落四的人，手机总不可能忘记携带。毕竟对于大家来说，什么都没有，唯独不能没有手机！  

所以，「**什么值得买 App**」首席生活家「**煮鸡蛋**」就研究了一种用**手机 or 手环，搭配 NFC 功能读卡器**，来实现的「智能门钥匙」。  

快来看看吧！

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFE3EJV3wbrW0ichD2DOB8WUvbic6ZcIhexVvz98VSH274FgYBp0MhNjMH9Zs22wajukkbOD0QfXy9g/640?wx_fmt=other&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

_**读取门禁卡片**_
------------

因为大部分的门禁卡做了加密，大部分的朋友可能是卡在了这个步骤，没办法用手机直接读取门禁卡。**这时候就需要一个专用的 NFC 读卡器，来个 “曲线救国”。**  

我曾经购买过两款读卡器，第一个是四年前买的，花了 60 块钱；第二个是去年买的，才花了 18 块钱。

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhm16RVvU6Fv9qibzYEGW6G14Vak49Y2pmicLYia1g0wmrAkXW8GV1Ycvib5w/640?wx_fmt=png&from=appmsg)

购买新产品的原因是，物业最近换了国产的 “无漏洞卡”，封堵了早期菲利普芯片的漏洞。老读卡器跑冒烟了都读不出来，所以无奈买了新读卡器。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmCWiaCZFHEBL7qNgJ8M61gjbGoALYoAV9yzECrKDgd04lh36DaoPU0ibA/640?wx_fmt=jpeg&from=appmsg)

当初 60 买的老读卡器，当时是非常好用的，如果物业不升级 “无漏洞卡”，我能一直用下去。

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmbSNaib4B8M794JrdtOJcaNI9SQDFoPGibslv72ILqofbC1h76hHjUSXA/640?wx_fmt=png&from=appmsg)

老读卡器的配套软件界面，**当时的解码效率比较低，一张全加密卡需要 5~10 分钟才能读出来。**

而新的这个读卡器就比较小巧了，**还有配套的手机 APP**。这科技进步太快了。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmmVVw1eRkoOibsRNibhuFZYadNj6osNU3WYV2Cs89y2HpzKG8JHnmxGmg/640?wx_fmt=jpeg&from=appmsg)

才花了 18 元，还送俩卡扣，挺超值。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhm8wT10J7NLYJgiccw6GbOrQHNJ9OHJk4LzA3iaCOXVQnnv76w87U9iadJQ/640?wx_fmt=jpeg&from=appmsg)

解码速度快，而且可以分析数据。我研究了一下，新产品解码快，主要是他**可以识别 00 扇区 00 区块的厂家代码**，然后在线查找这个厂家的数据，这样就大大减少了读取时间。

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmAggbDXr4uP3FCWfgU827jicOUL1K55rssk3DUg3st6Rxjy76GfsE4zA/640?wx_fmt=png&from=appmsg)

还能勾选**【高性能模式】和【x64 模式】**，有点强大。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmOJ9wQjLXuuias4XZAS8Jib6oY0dELibFaedicY6IpBtlDu0EogFdC74jsQ/640?wx_fmt=jpeg&from=appmsg)

开始了！放上去卡扣，点击开始解卡。

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmEHpcibmqRtnlEmXeJsIRj5O0zia6RaFdnPCdQcCsgiakpT76sB0M3icIuQ/640?wx_fmt=png&from=appmsg)

一分钟基本就读好了，**就 5 扇区和 8 扇区有数据**，别的地方都是空白的。

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhm5eTa2oGiaIOsIZhm6wFgX1WkibEiajz5p2XXNqKeKqjSuqVgKxDq5bdrw/640?wx_fmt=png&from=appmsg)

从 8 扇区成功识别到门口的进门有效期是 10 年。

  

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFE3EJV3wbrW0ichD2DOB8WUzicb4p2wzuPLiadh3slZQIjkOa2VD7wpWBI82x9Cq0OwOcoVUt1j5Uuw/640?wx_fmt=jpeg)

_**观察 dump 文件（可省略）**_  

------------------------

这里面，简单和大家普及下各种数据的含义，**在 00 区 00 块，就是卡号等信息，里面还包含有厂家信息**，大部分门禁不会校验，不过也有极特殊的会校验，那时候就得上 CUID 卡了。  

通过和空白卡数据比对分析，我们可以发现，这里面五扇区和八扇区有数据，而五扇区里面是楼层门牌号等信息，负责单元楼的进入和电梯刷卡上楼；八扇区里面是小区进门的信息，负责小区院门的进入。我这里运气很好，没有滚动码，所以写进去就能用。

所以理论上，**我们只要把 00/05/08 扇区的刷进去就可以了**，实际上基本上都是整体刷，很少有编辑的需求。

  

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFE3EJV3wbrW0ichD2DOB8WUkXMgs1yibgwtGSQfzpcvNWSqI0d15tibkTjYpIpcguo1KhXJJheYzuFg/640?wx_fmt=jpeg)

_**制作空白卡**_
-----------

这一步我们需要制作一张空白卡，作为一个 “外壳”。  

**这里的空白卡，是只包含 0 扇区 0 区块信息的卡**，这就相当于一个只包含卡号的无加密的卡。这样可以让手机手环正常复制，生成一个非加密卡的外壳，以便下一步把加密部分二次写入进去。

方法很简单，**第一步读取出来的 dump 文件。**

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmBH5gk3c1ic84bfWibMd5U8QRMwwkI0ENcKf2oALz1cUKKjRa7E3JrKJA/640?wx_fmt=png&from=appmsg)

**直接把 00 区 00 块的数据复制，粘贴到一个空白卡数据里**。空白卡数据没有的话，就读一遍手里空白的新门禁卡，保存就可以。

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmf15IkPAfPXjPibpQpuno01bvzcficasCMiaFrsAXrO6xLMj074ffXqXRA/640?wx_fmt=png&from=appmsg)

**粘贴之后给这个 dump 文件保存好**，以后还用的到。

  

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFE3EJV3wbrW0ichD2DOB8WUW2YadeWwQXvI3MENFdwf5muD9oz7XsRCMfMNny1aY8vbNSJIiaPLwnw/640?wx_fmt=jpeg)

_**写入空白卡**_
-----------

手头只有小米和华为手机，值友们如果使用的其他品牌手机，需要上网单独搜一下，很简单。

**1、小米手环**

**打开小米运动 App，点击 “我的”，选择 “手环设置”。然后选择 “门禁卡”，点击 “添加门禁卡”。**

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhm1U8Bvl5FIZ4furicqqZsNZdunVTufdnxgmKa23emlkMB7l8FtvlMSQg/640?wx_fmt=jpeg&from=appmsg)

将手环放在上一步做好的空白卡上方，等待门禁卡信息录入完成。  

  

**2、小米手机**

打开小米手机的 “钱包” 软件，点击页面上方的“**门卡 · 钥匙**”。

进入门卡钥匙界面，点击右下角 “**+**”。

选择 “**实体门卡**”，点击 “**添加**”。

把上一步做好的空白卡贴在手机背面，等待系统读卡。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhm1lQicictrX4AIv7bvgILgv8Ticp3eMQOChO7bEncib0ibgajVNe68Z6p5Ow/640?wx_fmt=jpeg&from=appmsg)

读卡完毕，选择喜欢的门卡卡面，点击完成。

  

**3、华为手机**

在 “**钱包**”APP 主页中，点击 “**钥匙**”。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhm25RenHIPwEfwppwPIhqohIcOfibdjSCcialu1fC8m0rKM3PmTWtgAzNQ/640?wx_fmt=jpeg&from=appmsg)

点击右上角的 “**+**”，然后选择 “**门禁卡**”。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmLZWpc2Ctx4eZ1opicxkjqscvYRicTC4ibz7EicSynpP4b2Lyfa047aztuA/640?wx_fmt=jpeg&from=appmsg)

点击 “**模拟实体门禁卡**”。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmdjHdLQPEjczKBn376HN92dxxy2kibATiaGIlWNwgViaKqpEqxKZEmsJSg/640?wx_fmt=jpeg&from=appmsg)

把上一步做好的空白卡贴在手机背面，保持亮屏状态，等待系统读卡。

编辑卡片信息，卡片名称、卡片封面，点击 “**确认**”。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmyCGohBUicqN3icAMhF0L7B824eW6rNvar3FrkRVRtFNpIxmZJBzkOAeA/640?wx_fmt=jpeg&from=appmsg)

  

  

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFE3EJV3wbrW0ichD2DOB8WU0qsXhrvBZ6cLbq4vucRa0peFkfr54rhiaBq3anNqP96PKyeLXjIjCOQ/640?wx_fmt=jpeg)

_**写入加密信息**_
------------

经过上一步写好了空白卡，我们把手环调到对应门禁卡的页面。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmGaWxKH4nUQngMCPsibh7v2ia2bRRRjIsfv9tibicK6nleiaryPZibo5omKAQ/640?wx_fmt=jpeg&from=appmsg)

或者是，**手机调到对应门禁卡的页面**。

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmYQk5G5N4zCsgs8LTw0apanvehl4EhfE85Plb1OXHZGeY2khhUmeM8w/640?wx_fmt=jpeg&from=appmsg)

把手机 / 手环扣在读卡器上，对准读写区。在电脑软件上选择原始的 dump 文件，点击 “**一键写卡**”。

这时候手环会把剩下的加密信息写入手环，这时候就做成了一个完整的卡。

  

  

![图片](https://mmbiz.qpic.cn/mmbiz_jpg/0QyBUDouDuFE3EJV3wbrW0ichD2DOB8WUqNoda15ZsOKEDBa6X6K9sYWspT3IdqevyXHmDMIqXGn66vkjwakjfw/640?wx_fmt=jpeg)

_**校验数据**_
----------

把写好的手环 / 手机放在读卡器上，解卡。

得到的数据和原始文件比对可以发现，**0 扇区的工厂代码不一致**，其他都完全一致。小米手环 4 这里改不了，但无所谓，绝大部分门禁不影响开门。

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmn3dqPeKeWPfNm4qiaC2C4X6e3mUnRuahHtPzP8qOMNjZdq9QD7juo3A/640?wx_fmt=png&from=appmsg)

我震惊的发现，小米 14 手机竟然可以写入 0 扇区厂商代码，做到完美复制，太强了。

![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuFmHv0UPwq6iaguaxFv4uQhmn7d1p2t2YXyHJic6SUnCbgznGR93ia170ibEsCCcACRNVdMSicrhNtuxVg/640?wx_fmt=png&from=appmsg)

此外，如果门禁卡到期了，去物业升级完新的卡，怎么写入手环？

那就方便了，**还是老方法，把新的卡扣解卡，得到 dump 数据文件**。

但这次就不需要做空白卡片了，手机 / 手环调出来相应的卡片，直接把手机 / 手环扣在读卡器上，写入新的卡就可以。

  

**写在最后**

写入门禁卡这个操作，确实有一些学习成本。虽然过程复杂，后续的使用就非常方便了。如果你平时也总是 “丢三落四”，不妨学习一下这个方法。

当然，如果大家还有其他「门禁卡攻略」，欢迎在**评论区留言**分享给其他人，或者点击 “**阅读原文**” 去了解更多！

  

**- 阅读更多 -**

[![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuGrKgb6HrxUZLOrU8Rm2TKmRdHOGkbibWUgiat1iaffW2Bn23xzicrygiaPzlvSVd8DOkbXGP4XncmD2wg/640?wx_fmt=png&from=appmsg)](http://mp.weixin.qq.com/s?__biz=MjM5MjAyNzg4MA==&mid=2652902031&idx=1&sn=ed716d79a66ca4c5e9272e46feb7e505&chksm=bd7837088a0fbe1e67edc2c1485c25641deba791637476d699de4c45e9e824310043eaf72d2a&scene=21#wechat_redirect)

[![图片](https://mmbiz.qpic.cn/mmbiz_png/0QyBUDouDuGrKgb6HrxUZLOrU8Rm2TKmUg6SJOZ2AzqnCmA5ibCDTJY4FfytQlZIVIAIENs3N0WzcwHvAYHzryg/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)](http://mp.weixin.qq.com/s?__biz=MjM5MjAyNzg4MA==&mid=2652901939&idx=1&sn=475db82c3d87645346f8d62ce23d2d11&chksm=bd7837b48a0fbea2dcec3758348fe4686fbd6de0fbaba17aa677fd38c38c85713de353cbdea0&scene=21#wechat_redirect)