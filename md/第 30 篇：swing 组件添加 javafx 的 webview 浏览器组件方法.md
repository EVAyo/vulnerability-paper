<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/esLaqAePvMR6kjxo_LT4uA)

![](https://mmbiz.qpic.cn/mmbiz_png/OAz0RNU450ATcz6jUJnFNeOxRzVZ9LbcCCMJ6Af2WYicgMPA32IwibF8mI2ibC9h8jaHkhxnZzZuqctMLRTxDudicA/640?wx_fmt=png)

 **Part1 前言** 
--------------

Swing 是一个用于开发 java 图形界面程序的工具包，一直用着挺顺手的，美中不足就是没有好用的浏览器组件，只能引用第三方 jar 包，比如说 JxBrowser、DJ Native Swing 等，但是都不能满足我的需要。javafx 中的 webview 浏览器组件非常好用，又是 jdk 官方出品的，非常稳定。目前看来拖拽 swing 组件最好用的工具应该是 netbeans，可惜 netbeans 不支持拖拽 webview 这个图形控件。后续经过一系列测试，找到了一个简单的在 netbeans 拖拽图形控件的同时，实现 swing 调用 webview 组件的简单方法，而且代码量很少。

 **Part2 技术研究过程** 

*   **Swing 浏览器组件踩过的坑  
    **
    

先讲一下用 Swing 引用第三方 jar 包开发浏览器踩过的坑，大家可以参考一下。

 **1** JEditorPane 这个组件是 swing 工具包中自带的，但是它能解析的 html 及 css 非常有限，N 年没更新了，很多现在的网页，加载会出问题。

 **2** DJ Native Swing 这个效果也不错，我捣鼓了半天，就是使用起来很麻烦，它的很多功能不符合我的预期，没办法在 netbeans 中拖拽使用

 **3** JxBrowser 这个浏览器组件非常好用，但它是商业版的，网上已有破解方法。缺点就是，这个组件长时间不操作，会莫名其妙地卡死，偶尔还会报各种 channel 异常错误，我始终没解决这个问题，而且所依赖的 jar 太大，大概 100 多 M。

*   **Swing 与 Javafx 的对比  
    **
    

在 Swing 图形工具包中，JFrame 是一个顶层容器，JPanel 是一个中间容器，JPanel 上面可以放置各种 Button 按钮、Label 标签等图形控件。有一个很形象的比喻，**JFrame 是一张桌子，各个组件是一盘又一盘的菜，而 JPanel 就是一个托盘，装了选好的菜品（组件）后放到 JFrame 桌子上**。一个 JFrame 界面上可以有多个 JPanel 用来划分不同的区域。

在 Javafx 中，顶级容器是舞台 Stage，也就是软件的界面窗口；Scene 场景为中间容器，各种组件 Button、Label 成为 Node 节点，Node 节点必须放在 Scene 场景中。

*   **Swing 添加 Javafx 的 webview 组件**
    

Netbeans 没法拖拽 JFXPanel，那么我们可以这样，在 JFrame 上先放一个 JPanel，然后手动敲代码在 JPanel 上添加一个 JFXPanel，JFXPanel 上放一个 scene 场景，在其上面放一个 Javafx 的 webview 组件，具体看如下操作：

**JFrame-->JPanel-->JFXPanel-->scene-->webview，需要手写的代码量很少。**具体操作如下：

**1.** netbeans 拖拽画出一个 JFrame 窗口。

**2.** 在 JFrame 图形界面上，想要实现浏览器组件的位置放一个 JPanel。

![](https://mmbiz.qpic.cn/mmbiz_png/OAz0RNU450Apvfp5ibVSkVJfnbA9q0icwtK40DC08Veib4wEyhN9UT3Z4e5OfOLGBVwEkCW4oueJibeJsqPVibtqgrA/640?wx_fmt=png)

**3.** 手动敲代码，在 JPanel 上面放置一个 JFXpanel，然后载入一个场景。

**4.** 手动敲代码，在 JFXPanel 上放置一个 webview 控件。

![](https://mmbiz.qpic.cn/mmbiz_png/OAz0RNU450Apvfp5ibVSkVJfnbA9q0icwtQgDdWorluu8xjQsfYlicicWLRahvf1AN0KH3lXBcW3qZNq9qkvMicrm6w/640?wx_fmt=png)

如下图所示，浏览器稳定运行。  

![](https://mmbiz.qpic.cn/mmbiz_png/OAz0RNU450Apvfp5ibVSkVJfnbA9q0icwtsfNuzS17Dtq0k8icPickDucfxg2BZkxAMaHsuK3j3r1wUjFHawa9CKwg/640?wx_fmt=png)  

javafx 组件是 Jdk1.8 中自带的，经过不断测试，发现还是 jdk 官方自带的组件好用，非常稳定，没有任何报错，编写起来还简单。至此一直困扰我的 swing 浏览器组件编写问题完美解决！

![](https://mmbiz.qpic.cn/mmbiz_png/OAz0RNU450A5qqg2iaK6KIYYR8y6pF5Rh3JHDibOKOop204nXz618iawdRb8dABicMPtHb2PkJE8x6koJO5HyuwZJQ/640?wx_fmt=png)

专注于网络安全技术分享，包括红队、蓝队溯源、渗透测试、代码审计等

每周一篇，99% 原创，敬请关注

![](https://mmbiz.qpic.cn/mmbiz_jpg/OAz0RNU450A5qqg2iaK6KIYYR8y6pF5Rhn137KeqqlDkuRyY4G61jATRzyOrCBts8ucxkLpMNsYutSOY7BkPziaw/640?wx_fmt=jpeg)