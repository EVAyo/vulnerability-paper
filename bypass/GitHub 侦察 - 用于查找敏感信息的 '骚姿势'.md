<meta name="referrer" content="no-referrer"/>
> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/Ukjmwp8pTSFIr7qQNHFnDQ)

GitHub 侦察 - 用于查找敏感信息的 "骚姿势"
===========================

![](https://mmbiz.qpic.cn/mmbiz_png/cxf9lzscpMqwibVk8ynuxsricugcUOARialicLLic0A9Nk2fQxXOCtIS1Ok0gREoyfgawKXeuXBSJib83NotUMXssFHA/640?wx_fmt=png&from=appmsg)

这篇文章是关于我对 GitHub 侦察的方法的介绍。

### 介绍 GitHub

GitHub 是一个开发平台，允许开发人员创建、存储、管理和分享他们的代码。除此之外，它还包含 API 密钥、密码、客户数据等。基本上，它包含大量敏感信息，这对于黑客来说可能非常有用。这些敏感信息的泄露可能会给一家公司造成数千美元的损失。

### GitHub Search 的新更新是什么？

GitHub 移除了排序功能，而且在新更新中只显示 5 页的旧代码搜索结果。

您可以在这里阅读更多信息：

https://github.blog/changelog/2022-11-09-introducing-an-all-new-code-search-and-code-browsing-experience/

下面，我将介绍手动使用 GitHub Dorking 的方法：

### 手动代码搜索或 GitHub Dorking

GitHub 代码搜索是一个非常强大且有用的功能，可用于使用 GitHub dorks 在存储库中搜索敏感数据，如密码、API 密钥、凭据、授权令牌、数据库文件等。我们可以在特定存储库或组织中搜索代码。

要在所有公共存储库中搜索代码，我们必须登录 GitHub 帐户。除了存储库，我们还可以检查代码、提交、问题、讨论、软件包、维基和用户。

在 GitHub 上找到敏感信息并不容易，我们需要花费大量时间，并且需要检查特定公司或用户的每个存储库。GitHub Dorking 减少了搜索敏感信息的工作量。

我们必须使用布尔运算符，如 OR、NOT 和 AND，并且我们也可以使用正则表达式在 GitHub 存储库中查找泄漏信息。

### 如何开展?

**1. 使用专门的限定词，如 path:、language:、user:、path:、org: 和 repo:**

要搜索确切的字符串，我们可以将字符串用引号括起来，使用正则表达式，或者在限定词中也可以使用引号括起来的字符串。

我们可以使用多个 NOT 运算符来过滤示例数据或演示数据，如 NOT example、NOT guest、NOT localhost、NOT fake、NOT 1234、NOT 127.0.0.1 和 NOT test。

例如：

```
1path:**/.npmrc _auth
2path:*/*config.sh password abc.com NOT example.com
3path:*.pem private key
4path:src/*.js
5language:Python
6owner:octocat abc
7repo:repo owner name


```

举例：

```
1path:*.env ( NOT homestead NOT root NOT example NOT gmail NOT sample NOT localhost NOT marutise) password outlook.com


```

![](https://mmbiz.qpic.cn/mmbiz_png/cxf9lzscpMqwibVk8ynuxsricugcUOARialUIMqr9ebPUQzlsp8lf8YTRIrutFKoYE94eF4nicWENb2FMLEJBqrUicw/640?wx_fmt=png&from=appmsg)![](https://mmbiz.qpic.cn/mmbiz_png/cxf9lzscpMqwibVk8ynuxsricugcUOARialZWQbK4nNSvZFZ0PR6FibIUiaXsmmNW3bJyxFdBFUAKaBLChnibYXYicRjw/640?wx_fmt=png&from=appmsg)

我们可以根据需要制定我们的搜索查询，并与之一起使用任何关键词，比如 password、authtoken、pwd，我们还可以搜索其他文件。

**举个例子:**

```
1(path:*.xml OR path:*.json OR path:*.properties OR path:*.txt OR path:*.log path:*.config OR path:*.conf OR path:*.cfg OR path:*.env OR path:*.envrc OR path:*.prod OR path:*.secret OR path:*.private OR path:*.key) AND (access_key OR secret_key OR access_token OR api_key OR apikey OR api_secret OR auth_token OR authsecret) AND (“sk-” AND (openai OR gpt))


```

有关更多信息，请访问：

https://gist.github.com/win3zz/0a1c70589fcbea64dba4588b93095855

您可以在此处阅读有关 GitHub 代码搜索语法的更多信息：

https://docs.github.com/en/search-github/github-code-search/understanding-github-code-search-syntax

**2. 使用正则表达式 (Regex)**

我们可以使用一些正则表达式来制定一个模式，通过将正则表达式用斜杠括起来来匹配我们的字符串或关键词。

以下是一些示例：

对于 Stripe 密钥：

```
1/([srp]k_live_[0–9a-zA-Z]{24})/
2
3/sk_live_[0–9a-zA-Z]{24}/


```

![](https://mmbiz.qpic.cn/mmbiz_png/cxf9lzscpMqwibVk8ynuxsricugcUOARialF4ic3aibUdj0rKSIibpYsVP68OlvXu9NmsnZtkIJHuhIPTMrticGSVaYFw/640?wx_fmt=png&from=appmsg)

对于 Slack

```
1/https:\/\/hooks\.slack\.com\/services\/T[a-zA-Z0–9_]+\/B[a-zA-Z0–9_]+\/[a-zA-Z0–9_]+/


```

![](https://mmbiz.qpic.cn/mmbiz_png/cxf9lzscpMqwibVk8ynuxsricugcUOARial49AKQY7hoD9LJZnIKayicSic5seFSXFdmx9ibViabysIAfIJR9ibhLV3qsw/640?wx_fmt=png&from=appmsg)

域名搜索：

```
1/https:\/\/[A-Za-z0–9-_]+\.dell\.com\/+/


```

搜索密码：

```
1/password=[A-Za-z0-9-_]+/


```

示例中使用的密码搜索：

```
1/:password=[A-Za-z0-9-_]+/ NOT example NOT guest NOT localhost NOT fake NOT 1234 NOT xxx NOT 127.0.0.1 NOT test


```

查找 IP 范围：

```
1/35\.21\.[0–9]{1,3}\.[0–9]{1,3}/


```

我们还可以使用多个限定词或布尔运算符与正则表达式一起使用进行搜索。

例如：

```
1/:password=[A-Za-z0–9-_]+/ NOT example NOT guest NOT localhost NOT fake NOT 1234 NOT xxx NOT 127.0.0.1 NOT test traget.com
2
3/access_token=[A-Za-z0–9-_]+/ NOT example NOT guest NOT localhost NOT fake NOT 1234


```

我们可以根据需要制定正则表达式。我们可以使用正则表达式搜索确切的字符串，这些字符串包含您无法在搜索栏中输入的字符（特殊字符之类的）。

您可以在这里查找有用的正则表达式：

https://github.com/databricks/security-bucket-brigade/blob/3f25fe0908a3969b325542906bae5290beca6d2f/Tools/s3-secrets-scanner/rules.json

### 回答一个问题

> 问题：在最近的 5 页新功能更新后，如何更准确地执行 GitHub 侦察？

很多时候，我们会得到 100 多个或 1000 多个代码搜索结果，而我们只能在新的 GitHub 更新中访问 5 页。在一页上，我们看到 20 个存储库，这意味着 5 页上只有 100 个 GitHub 存储库。

为了减少代码，我使用了更多的运算符和正则表达式来过滤更多有用的信息。

我们还可以使用 **language: 限定词**来过滤想要或不想要的语言，比如如果我不想在搜索结果中看到 markdown 或 html 代码，我会使用这个 NOT **language:Markdown**, NOT **language:html**

针对关键漏洞利用，务必检查 Keyhack 项目 - https://github.com/streaak/keyhacks

参考：

https://docs.github.com/en/search-github/github-code-search/understanding-github-code-search-syntax#using-regular-expressions

https://www.sshell.co/github-code-search

https://docs.github.com/en/search-github/github-code-search/understanding-github-code-search-syntax

### More

https://medium.com/@pawan_rawat/github-recon-for-finding-sensitive-information-aecdeb9c9dce

![](https://mmbiz.qpic.cn/mmbiz_png/r8Q5uQibOgLoc7nqLAZ2nxl5fzaiaRxCjKOoItH09ygO1ED4fljeo72StHb6Tl8x0Y120k2IB4uEwypAIkjBnuzA/640?wx_fmt=png)

[

如何半天时间学完 Vue3 框架 (入门到进阶)

2024-02-18

![](https://mmbiz.qpic.cn/sz_mmbiz_jpg/oDIPicN5n2QFPpAMCgOh0pgRB7y949micGTWxLpkRric37yCWswB0YMVFPRzWN6lAW6IqCy6ic0gtaPrz0a0cVCjYg/640?wx_fmt=jpeg)

](https://mp.weixin.qq.com/s?__biz=MzkwODI1ODgzOA==&mid=2247502676&idx=2&sn=d2945a5d9425ab978b926372500473a5&chksm=c0ce302df7b9b93b7406ae30bfe58422bcd6076328d3dc131ff0ea97a943489bbe5e573e60a0&scene=21#wechat_redirect)

[

Jetbrains 全家桶激活码失效通知！附临时解决方案

2024-02-17

![](https://mmbiz.qpic.cn/mmbiz_jpg/cxf9lzscpMpMTAcKjrSnuOmb6wMrHDEMUmc6Hgfkj3ITKvyibapjdW6j1R42sblB6r02SWvyLAx7x63icY4pFfXQ/640?wx_fmt=jpeg)

](https://mp.weixin.qq.com/s?__biz=MzkwODI1ODgzOA==&mid=2247502667&idx=1&sn=bac351ea277b98a610c546a847431c75&chksm=c0ce3032f7b9b92477d14fe1b1498c46b42c8647a817b7e72788c57994cf008dae27c5a92dd4&scene=21#wechat_redirect)

[

Session 攻击大杀器:  Sessionless

2024-02-16

![](https://mmbiz.qpic.cn/mmbiz_jpg/cxf9lzscpMrMSBXKz9A6WX8KGUoqwen8WyricoXemAtwibziaHJRcgicCy78WBhq99WiatkicRia10HPANYO2LibyBdVMg/640?wx_fmt=jpeg)

](https://mp.weixin.qq.com/s?__biz=MzkwODI1ODgzOA==&mid=2247502657&idx=1&sn=2939fd3021409ebff37bd716181cd9c7&chksm=c0ce3038f7b9b92e80ed83ffb0b3822b18ef7c666d3546a80d731aaa1262618d320a1fad4abf&scene=21#wechat_redirect)

[

【漏洞预警】 Nginx 0day 漏洞来袭

2024-02-15

![](https://mmbiz.qpic.cn/mmbiz_jpg/cxf9lzscpMpBoWP6aeqt9iaicY0VhNmNpicZ39d10Ikfn3qhOpicI3KnvrGWhG5Msa5o79GG3QbU3my2OiaRELzIkPw/640?wx_fmt=jpeg)

](https://mp.weixin.qq.com/s?__biz=MzkwODI1ODgzOA==&mid=2247502642&idx=1&sn=cfad6570d00c21e8a4de1be6815975b2&chksm=c0ce304bf7b9b95d3980af172e2a50653d56275e86a2d8dcb4d70d8fbd8c410e46d8e93f36c7&scene=21#wechat_redirect)

[

【精选推荐】3 款强大的 API 渗透测试工具

2024-02-18

![](https://mmbiz.qpic.cn/mmbiz_jpg/1mtwZURvGTn1gcHYpJM2hvQ4m8Y3Yj5H6kmMsRibS5ucnRqFj8DRQn1jGb28VpCJGjRgkKy4V53MPV9icIU0Vviag/640?wx_fmt=jpeg)

](https://mp.weixin.qq.com/s?__biz=MzkwODI1ODgzOA==&mid=2247502676&idx=1&sn=7c55ab7f5cbfaf848ceae411a559a5a7&chksm=c0ce302df7b9b93b217ecf8b7d25d05af9627d1b579f8c6d757648193cd87aa10237268180ee&scene=21#wechat_redirect)

[

我发现了宝塔的未授权访问漏洞

2024-02-17

![](https://mmbiz.qpic.cn/mmbiz_jpg/QpviaryvPmdEg0uqEM5ZrKYcc05rUV0icibWeGyfcmYghUdq26yPnze8lyucJUs69ZhJGo3lnSh6ezaMDoVE5VSqw/640?wx_fmt=jpeg)

](https://mp.weixin.qq.com/s?__biz=MzkwODI1ODgzOA==&mid=2247502667&idx=2&sn=4c8d56c65e0b7e985e9f9dd18d99e6cd&chksm=c0ce3032f7b9b924e932ffa40177292ac6d6723a9cbe614ff23300f35b16a2871376770509c6&scene=21#wechat_redirect)

点个在看你最好看